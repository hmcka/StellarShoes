<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
          
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core" 
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">
<h:head>
	<meta charset="utf-8"/>
    <title> Welcome to Stellar Shoes</title>
	<meta content="width=device-width, initial-scale=1" name="viewport"/>
	<link rel="stylesheet" type="text/css" href="./resources/css/reset.css"/>
	<link rel="stylesheet" type="text/css" href="./resources/css/store-shell.css"/>
	<link rel="stylesheet" type="text/css" href="./resources/css/main-components.css"/>
	<link rel="stylesheet" type="text/css" href="./resources/css/checkout.css"/>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/>
	<link href="https://fonts.googleapis.com/css?family=Barlow:400,600,900" rel="stylesheet"/>
</h:head>
<body>
	<header>
        <div id="mySlideNav" class="slideNav">
			<a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
			<a href="index.xhtml" class="nav-item" onclick="closeNav()">Home</a>
			<a href="category.xhtml" class="nav-item" onclick="closeNav()">Shop</a>
            <a href="" class="nav-item" onclick="closeNav()">FAQs</a>
			<a href="" class="nav-item" onclick="closeNav()">About</a>
        </div>
		<a href="index.xhtml"><img id="logo" src="./resources/images/stellar-shoes-logo.svg" ></img></a>
		<div id="top-icons">
			<a href=""><i class="fa fa-search fa-2x"></i></a> 
			<a href="login.xhtml"><i class="fa fa-user fa-2x"></i></a> 
			<a href=""><i class="fa fa-shopping-cart fa-2x"></i></a> 
		</div>
		<span id="hamburger" onclick="openNav()">&nbsp;</span>
	</header>

	<main id="main">
		<div class="checkout-panel">
			<div class="panel-body">
				<h1>My Shopping Cart</h1>

				<!-- This is the HTML for a progress bar (4 steps). -->
				<!-- <div class="progress-bar">
				<div class="step active"></div>
				<div class="step active"></div>
				<div class="step"></div>
				<div class="step"></div>
			   -->
           </div>
          
          <h:form > 
           <ui:repeat var="shoe"  value="#{checkout.cartList}">
         <div class = "cartItems">
         
                <h3> #{shoe.name}</h3>
		
		<img style = "width:30%" src="#{shoe.imgUrl}" alt="image of a dress shoe"/>
		<p>Product ID ##{shoe.productID}</p>
		<p> Description: #{shoe.description} </p>
		<p>Price: $#{shoe.price}</p><br/>
		
		<p:commandLink style = "color:red" value = "Remove Item" action = "#{checkout.removeFromCart(shoe)}"/>
		</div>
		</ui:repeat>
		</h:form>
		<div style = "margin-left:600px;">
		<p:outputLabel><strong>SUBTOTAL: </strong>   $#{checkout.subTotal}</p:outputLabel><br/>
		<p:outputLabel><strong>TAX: </strong> $#{checkout.tax}</p:outputLabel> <br/>
		<p:outputLabel><strong>TOTAL: </strong>$#{checkout.total}</p:outputLabel>
		</div>
		<p:growl id = "message"></p:growl>
           
			<div class="panel-footer">
			
			<h:form id= "form">
			
			<h:commandButton value = "Continue Shopping" action = "category?faces-redirect=true"
			 styleClass = "btn back-btn" style = "width:250px"/>
			 
			  <h:commandButton value = "Checkout as Guest" action = "checkout2?faces-redirect=true"
			   styleClass = "btn next-btn" style = "width:250px" 
			   rendered = "#{accountManager.customer == null ? 'true' : 'false'}"/>
			   
			  <h:commandButton rendered = "#{accountManager.customer == null ? 'false' : 'true'}" 
			  action = "category" styleClass = "btn next-btn" style = "width:250px" value = "Check Out"/>
			  
              <p:commandButton
              onclick="PF('loginDialog').show();" styleClass = "btn next-btn" type = "button" role = "button"
              style = "width:250px" value = "Login and Checkout" aria-disabled = "false">           
              </p:commandButton>
              </h:form>
              
              <p:dialog header = "Log in" widgetVar = "loginDialog" id = "login"
               showEffect="explode" hideEffect="fade" height="200" width= "700">
              <h:form>   
               <h:outputLabel>Email: </h:outputLabel>

					  <p:inputText id= "useremail" placeholder = "example@email.com" required = "true" requiredMessage = "Email is required" 
					  validatorMessage = "Please enter a valid email" value="#{accountManager.email}" style = "width:400px;margin-left:80px">
					  <f:validateRegex pattern="^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$"/> 
					  </p:inputText> <br/><br/>
					  
					  
					  <p:outputLabel>Password:</p:outputLabel>
					  
					  <p:password id="pass" required = "true" requiredMessage = "Password is required"
					       value = "#{accountManager.password}" style = "width:400px;margin-left:50px"> 
					  </p:password><br/><br/>
					     
					<p:commandButton id="login" value="Log in" action= "#{accountManager.login}" onclick="PF('loginDialog').hide();" /><br/><br/>
					<p:messages layout = "list" styleClass = "error"></p:messages>
					</h:form> 
			  </p:dialog>
			  
			  
			</div>
		  </div>
	</main>

<footer>
		<section>
			<h2>Customer Service</h2>
			<ul>
				<li>Frequently Asked Questions</li>
				<li>Contact Us</li>
				<li>About Us</li>
			</ul>
		</section>
		<section>
			<h2>My Account</h2>
			<ul>
				<li>Create Account</li>
				<li>Manage Account</li>
				<li>Track Order</li>
			</ul>
		</section>
		<section>
			<h2>Location and Hours</h2>
			<ul>
				<li>Mailing Address:<br/>123 Smith Lane<br/>Columbus, OH 43212</li>
				<li>Hours:<br/>Monday thru Friday: 9 to 8<br/>Saturday: 9 to 6<br/>Sunday: 9 to 5</li>
			</ul>
		</section>
		<section>
			<h2>Connect With Us</h2>
			<ul>
				<li><a href=""><i class="fa fa-twitter"></i></a> <a href=""><i class="fa fa-facebook"></i></a> <a href=""><i class="fa fa-instagram"></i></a> </li>
			</ul>
		</section>
	</footer>

    <h:outputScript library="primefaces" name="jquery/jquery.js" />
	<h:outputScript library="js" name="hamburger-js.js" />
    

	
</body>
</html>